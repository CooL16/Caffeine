# publish-sparkle configuration
# All values below are defaults. Edit as needed.

# Required (set by init wizard)
app_name: Caffeine
s3_bucket: dr-caffeine-mac

# Release directory (relative to project root)
release_dir: sparkle/release

# Sparkle signing account name in keychain
signing_account: ed25519

# Path to Sparkle's generate_appcast binary
generate_appcast: "~/bin/sparkle/generate_appcast"

# Editor for release notes
editor: nova --wait

# AWS region for S3
aws_region: eu-central-1

# Git tagging
git_tag: true
tag_prefix: v

# Download URL prefix (optional - derived from s3_bucket if not set)
# download_url_prefix: https://dr-myapp-mac.s3.amazonaws.com

# Post-publish template (optional)
# Printed after successful publish with placeholders substituted.
# Available: {{app_name}}, {{version}}, {{size}}, {{url}}, {{zip_name}}
post_publish_template: |
  array(
      APP_NAME => "Caffeine",
      APP_TITLE => _("Caffeine"),
      APP_VERSION => "{{version}}",
      APP_SIZE => "{{size}}",
      APP_IMAGES => "/images/tahoe",
      APP_TINT => "#4696c4",
      APP_TINT_HIGHLIGHT => "#3b85b0",
      APP_URL => "{{url}}",
      DOWNLOAD_URL => "/download/tahoe/",
      APP_OS => $__OS_macOS,
      APP_TARGET => "tahoe",
      APP_HIDDEN => false
  )
  ---
  Update '~/Sites/Online/caffeine-app.net/www/website/config/apps.config.php'

# Post-publish commands (optional)
# Shell commands executed sequentially after publish.
# Stops on first failure. No placeholder substitution.
# post_publish_commands:
#   - git push origin --tags
#   - ./scripts/notify-slack.sh
